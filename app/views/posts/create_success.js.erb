// Use the _post.html.erb Post partial to 
//   generate the new row
// Recall that `j` is a shortcut for `escape_javascript`
// Also note that we need the explicit path to
//   the partial.
var postRow = "<%= j( render partial: "post", locals: { post: @post } ) %>"
var $postRow = $( postRow );


// Identify our Post tables using the function
//   provided by our PostModule and prepend them
//   with our post partial (a row)
var $tables = PostModule.getPostTables();
$tables.prepend( $postRow );


// Render the flash message partial as well
$("#flash-messages").html("<%= escape_javascript(render partial: 'shared/flash') %>").slideDown();
<% flash.clear %>